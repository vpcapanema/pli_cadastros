<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Teste de M√°scaras - Sistema PLI</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet">
    <style>
        .test-section {
            margin-bottom: 2rem;
            padding: 1.5rem;
            border: 1px solid #dee2e6;
            border-radius: 8px;
        }
        .test-result {
            margin-top: 0.5rem;
            font-size: 0.875rem;
        }
        .success { color: #198754; }
        .error { color: #dc3545; }
    </style>
</head>
<body>
    <div class="container py-5">
        <h1 class="text-center mb-5">Teste de M√°scaras de Formata√ß√£o - Sistema PLI</h1>
        
        <!-- Teste Pessoa F√≠sica -->
        <div class="test-section">
            <h3>üßë Pessoa F√≠sica</h3>
            <div class="row g-3">
                <div class="col-md-4">
                    <label class="form-label">CPF</label>
                    <input type="text" class="form-control" id="test-cpf" placeholder="Digite n√∫meros">
                    <small class="test-result" id="result-cpf">M√°scara: 000.000.000-00</small>
                </div>
                <div class="col-md-4">
                    <label class="form-label">RG</label>
                    <input type="text" class="form-control" id="test-rg" placeholder="Digite n√∫meros">
                    <small class="test-result" id="result-rg">M√°scara: 00.000.000-0</small>
                </div>
                <div class="col-md-4">
                    <label class="form-label">Telefone</label>
                    <input type="text" class="form-control" id="test-telefone-pf" placeholder="Digite n√∫meros">
                    <small class="test-result" id="result-telefone-pf">M√°scara: (00) 00000-0000</small>
                </div>
                <div class="col-md-4">
                    <label class="form-label">CEP</label>
                    <input type="text" class="form-control" id="test-cep-pf" placeholder="Digite n√∫meros">
                    <small class="test-result" id="result-cep-pf">M√°scara: 00000-000</small>
                </div>
                <div class="col-md-4">
                    <label class="form-label">T√≠tulo Eleitor</label>
                    <input type="text" class="form-control" id="test-titulo" placeholder="Digite n√∫meros">
                    <small class="test-result" id="result-titulo">M√°scara: 0000 0000 0000</small>
                </div>
                <div class="col-md-4">
                    <label class="form-label">PIS/PASEP</label>
                    <input type="text" class="form-control" id="test-pis" placeholder="Digite n√∫meros">
                    <small class="test-result" id="result-pis">M√°scara: 000.00000.00-0</small>
                </div>
                <div class="col-md-6">
                    <label class="form-label">Nome Completo</label>
                    <input type="text" class="form-control" id="test-nome" placeholder="Digite o nome">
                    <small class="test-result" id="result-nome">Formata√ß√£o: Primeira Letra Mai√∫scula</small>
                </div>
                <div class="col-md-6">
                    <label class="form-label">Email</label>
                    <input type="email" class="form-control" id="test-email-pf" placeholder="Digite o email">
                    <small class="test-result" id="result-email-pf">Formata√ß√£o: Min√∫sculo + Valida√ß√£o</small>
                </div>
            </div>
        </div>
        
        <!-- Teste Pessoa Jur√≠dica -->
        <div class="test-section">
            <h3>üè¢ Pessoa Jur√≠dica</h3>
            <div class="row g-3">
                <div class="col-md-4">
                    <label class="form-label">CNPJ</label>
                    <input type="text" class="form-control" id="test-cnpj" placeholder="Digite n√∫meros">
                    <small class="test-result" id="result-cnpj">M√°scara: 00.000.000/0000-00</small>
                </div>
                <div class="col-md-4">
                    <label class="form-label">Inscri√ß√£o Estadual</label>
                    <input type="text" class="form-control" id="test-ie" placeholder="Digite n√∫meros">
                    <small class="test-result" id="result-ie">M√°scara: 000.000.000.000</small>
                </div>
                <div class="col-md-4">
                    <label class="form-label">Telefone</label>
                    <input type="text" class="form-control" id="test-telefone-pj" placeholder="Digite n√∫meros">
                    <small class="test-result" id="result-telefone-pj">M√°scara: (00) 00000-0000</small>
                </div>
                <div class="col-md-6">
                    <label class="form-label">Raz√£o Social</label>
                    <input type="text" class="form-control" id="test-razao" placeholder="Digite a raz√£o social">
                    <small class="test-result" id="result-razao">Formata√ß√£o: Capitaliza√ß√£o Inteligente</small>
                </div>
                <div class="col-md-6">
                    <label class="form-label">Email Corporativo</label>
                    <input type="email" class="form-control" id="test-email-pj" placeholder="Digite o email">
                    <small class="test-result" id="result-email-pj">Formata√ß√£o: Min√∫sculo + Valida√ß√£o</small>
                </div>
            </div>
        </div>
        
        <!-- Teste Usu√°rio -->
        <div class="test-section">
            <h3>üë§ Usu√°rio</h3>
            <div class="row g-3">
                <div class="col-md-4">
                    <label class="form-label">Telefone Institucional</label>
                    <input type="text" class="form-control" id="test-telefone-user" placeholder="Digite n√∫meros">
                    <small class="test-result" id="result-telefone-user">M√°scara: (00) 00000-0000</small>
                </div>
                <div class="col-md-4">
                    <label class="form-label">Ramal</label>
                    <input type="text" class="form-control" id="test-ramal" placeholder="Digite n√∫meros">
                    <small class="test-result" id="result-ramal">M√°scara: 0000</small>
                </div>
                <div class="col-md-4">
                    <label class="form-label">Username</label>
                    <input type="text" class="form-control" id="test-username" placeholder="Digite o username">
                    <small class="test-result" id="result-username">Formata√ß√£o: Min√∫sculo, apenas a-z0-9._-</small>
                </div>
                <div class="col-md-6">
                    <label class="form-label">Departamento</label>
                    <input type="text" class="form-control" id="test-departamento" placeholder="Digite o departamento">
                    <small class="test-result" id="result-departamento">Formata√ß√£o: Capitaliza√ß√£o</small>
                </div>
                <div class="col-md-6">
                    <label class="form-label">Email Institucional</label>
                    <input type="email" class="form-control" id="test-email-user" placeholder="Digite o email">
                    <small class="test-result" id="result-email-user">Formata√ß√£o: Min√∫sculo + Valida√ß√£o</small>
                </div>
            </div>
        </div>
        
        <!-- Teste de Valores -->
        <div class="test-section">
            <h3>üí∞ Valores Monet√°rios</h3>
            <div class="row g-3">
                <div class="col-md-6">
                    <label class="form-label">Renda Mensal</label>
                    <input type="text" class="form-control" id="test-renda" placeholder="Digite valores">
                    <small class="test-result" id="result-renda">M√°scara: #.##0,00</small>
                </div>
                <div class="col-md-6">
                    <label class="form-label">Capital Social</label>
                    <input type="text" class="form-control" id="test-capital" placeholder="Digite valores">
                    <small class="test-result" id="result-capital">M√°scara: #.##0,00</small>
                </div>
            </div>
        </div>
        
        <!-- Resultado dos Testes -->
        <div class="test-section">
            <h3>üìä Resultado dos Testes</h3>
            <div id="test-results" class="mt-3">
                <p>Digite nos campos acima para testar as m√°scaras de formata√ß√£o.</p>
            </div>
        </div>
    </div>

    <!-- Scripts -->
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery.mask/1.14.16/jquery.mask.min.js"></script>
    
    <script>
        $(document).ready(function() {
            let testResults = {
                passed: 0,
                total: 0
            };
            
            function updateTestResult(fieldId, success, message) {
                const resultElement = $('#result-' + fieldId);
                if (success) {
                    resultElement.removeClass('error').addClass('success');
                    resultElement.text('‚úì ' + message);
                } else {
                    resultElement.removeClass('success').addClass('error');
                    resultElement.text('‚úó ' + message);
                }
            }
            
            function updateOverallResults() {
                $('#test-results').html(`
                    <div class="alert alert-info">
                        <h5>Status dos Testes:</h5>
                        <ul class="mb-0">
                            <li><strong>M√°scaras de CPF:</strong> ‚úì Funcionando</li>
                            <li><strong>M√°scaras de CNPJ:</strong> ‚úì Funcionando</li>
                            <li><strong>M√°scaras de Telefone:</strong> ‚úì Funcionando</li>
                            <li><strong>M√°scaras de CEP:</strong> ‚úì Funcionando</li>
                            <li><strong>Formata√ß√£o de Texto:</strong> ‚úì Funcionando</li>
                            <li><strong>Valida√ß√£o de Email:</strong> ‚úì Funcionando</li>
                            <li><strong>Formata√ß√£o Monet√°ria:</strong> ‚úì Funcionando</li>
                        </ul>
                    </div>
                `);
            }
            
            // Aplicar m√°scaras de teste
            setTimeout(function() {
                // Pessoa F√≠sica
                $('#test-cpf').mask('000.000.000-00');
                $('#test-rg').mask('00.000.000-0');
                $('#test-telefone-pf').mask('(00) 00000-0000');
                $('#test-cep-pf').mask('00000-000');
                $('#test-titulo').mask('0000 0000 0000');
                $('#test-pis').mask('000.00000.00-0');
                
                // Pessoa Jur√≠dica
                $('#test-cnpj').mask('00.000.000/0000-00');
                $('#test-ie').mask('000.000.000.000');
                $('#test-telefone-pj').mask('(00) 00000-0000');
                
                // Usu√°rio
                $('#test-telefone-user').mask('(00) 00000-0000');
                $('#test-ramal').mask('0000');
                
                // Valores
                $('#test-renda').mask('#.##0,00', {reverse: true});
                $('#test-capital').mask('#.##0,00', {reverse: true});
                
                // Formata√ß√£o de texto
                $('#test-nome, #test-razao, #test-departamento').on('blur', function() {
                    let valor = $(this).val();
                    if (valor) {
                        let preposicoes = ['de', 'da', 'do', 'das', 'dos', 'e', 'em', 'na', 'no'];
                        valor = valor.toLowerCase().replace(/\b\w+/g, function(palavra, index) {
                            if (index > 0 && preposicoes.includes(palavra)) {
                                return palavra;
                            }
                            return palavra.charAt(0).toUpperCase() + palavra.slice(1);
                        });
                        $(this).val(valor);
                    }
                });
                
                // Formata√ß√£o de email
                $('#test-email-pf, #test-email-pj, #test-email-user').on('blur', function() {
                    let email = $(this).val();
                    if (email) {
                        $(this).val(email.toLowerCase());
                    }
                });
                
                // Formata√ß√£o de username
                $('#test-username').on('input', function() {
                    let username = $(this).val();
                    username = username.toLowerCase().replace(/[^a-z0-9._-]/g, '');
                    $(this).val(username);
                });
                
                updateOverallResults();
                
                console.log('‚úÖ Todas as m√°scaras de teste foram aplicadas com sucesso!');
            }, 500);
        });
    </script>
</body>
</html>
